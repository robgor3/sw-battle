<section *swBattleLet="isFightInProgress$ | async as isFightInProgress" class="battleground">
  <div *ngIf="gameModeControl" class="game">
    <div class="game__settings">
      <sw-battle-ui-select
        [formControl]="gameModeControl"
        [options]="gameModeOptions"
        [label]="'Choose game mode'"
        [disabled]="isFightInProgress"
        data-testId="game-mode-select"
      ></sw-battle-ui-select>
    </div>

    <div *swBattleLet="winnerId$ | async as winnerId" class="game__players">
      <sw-battle-player
        [contender]="firstContender$ | async"
        [winsCount]="firstContenderWinsCount$ | async"
        [winnerId]="winnerId"
        data-testId="player-1"
      ></sw-battle-player>
      <sw-battle-player
        [contender]="secondContender$ | async"
        [winsCount]="secondContenderWinsCount$ | async"
        [winnerId]="winnerId"
        data-testId="player-2"
      ></sw-battle-player>
    </div>

    <div class="game__actions">
      <div class="game-action-buttons-container">
        <sw-battle-ui-button
          (click)="onFightButtonClick()"
          [text]="'Fight!'"
          [fullWidth]="true"
          [disabled]="isFightInProgress"
          class="game-action-button"
          swBattleButtonPrimary
          data-testId="fight-button"
        />
        <sw-battle-ui-button
          (click)="onResetButtonClick()"
          [text]="'Reset game'"
          [fullWidth]="true"
          [disabled]="isFightInProgress"
          class="game-action-button"
          swBattleWarnPrimary
          data-testId="reset-button"
        />
      </div>
    </div>
  </div>
</section>
